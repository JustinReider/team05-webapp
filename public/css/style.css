/* === DRAG & DROP STYLES - MAXIMALE PRIORITÄT === */

/* WICHTIG: Body Cursor während Drag */
body.is-dragging,
body.is-dragging *,
body.is-dragging .task-card,
body.is-dragging .gu-mirror,
body.is-dragging button,
body.is-dragging a {
	cursor: grabbing !important;
}

/* Task Card Standard Cursor */
.task-card {
	cursor: grab !important;
	user-select: none !important;
	transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}

.task-card:active {
	cursor: grabbing !important;
}

/* Mirror Element - folgt der Maus - MAXIMALE PRIORITÄT */
.gu-mirror {
	position: fixed !important;
	margin: 0 !important;
	z-index: 9999 !important;
	opacity: 1 !important;
	cursor: grabbing !important;
	pointer-events: none !important;
	
	/* Keine Transparenz! */
	-ms-filter: none !important;
	filter: none !important;
	
	/* Wobble Animation beim Aufheben */
	transform: rotate(3deg) scale(1.05) !important;
	box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4) !important;
	border-left: 4px solid #007bff !important;
	
	/* Animation */
	animation: pickupWobble 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards !important;
}

@keyframes pickupWobble {
	0% {
		transform: rotate(0deg) scale(1);
		opacity: 1;
	}
	30% {
		transform: rotate(-3deg) scale(1.08);
		opacity: 1;
	}
	60% {
		transform: rotate(6deg) scale(1.06);
		opacity: 1;
	}
	100% {
		transform: rotate(5deg) scale(1.05);
		opacity: 1;
	}
}

/* Original Element während Drag unsichtbar */
.gu-transit {
	opacity: 0 !important;
	cursor: grabbing !important;
	transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
	animation: shrinkWobble 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards !important;
}

@keyframes shrinkWobble {
	0% {
		transform: scale(1) rotate(0deg);
		opacity: 1;
	}
	50% {
		transform: scale(0.8) rotate(-2deg);
		opacity: 0.5;
	}
	100% {
		transform: scale(0.85) rotate(0deg);
		opacity: 0.4;
	}
}

/* Versteckter Platzhalter */
.gu-hide {
	display: none !important;
	opacity: 0 !important;
	visibility: hidden !important;
}

/* Unplaceable state */
.gu-unselectable {
	-webkit-user-select: none !important;
	-moz-user-select: none !important;
	-ms-user-select: none !important;
	user-select: none !important;
}

/* Drop Zone aktiv mit Puls-Animation */
.drag-over {
	background: linear-gradient(
		135deg,
		rgba(0, 123, 255, 0.08) 0%,
		rgba(0, 123, 255, 0.12) 100%
	) !important;
	border: 2px dashed #007bff !important;
	border-radius: 0.5rem !important;
	box-shadow: inset 0 0 20px rgba(0, 123, 255, 0.15) !important;
	transition: all 0.3s ease !important;
	animation: dropZonePulse 1.5s ease-in-out infinite !important;
}

@keyframes dropZonePulse {
	0%, 100% {
		box-shadow: inset 0 0 20px rgba(0, 123, 255, 0.15);
		border-color: #007bff;
	}
	50% {
		box-shadow: inset 0 0 30px rgba(0, 123, 255, 0.25);
		border-color: #0056b3;
	}
}

/* Wobble beim Droppen */
.task-card.dropping {
	animation: dropWobble 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards !important;
}

@keyframes dropWobble {
	0% {
		transform: scale(0.85) translateY(-8px) rotate(-3deg);
		opacity: 0.7;
	}
	40% {
		transform: scale(1.05) translateY(2px) rotate(2deg);
		opacity: 1;
	}
	70% {
		transform: scale(0.98) translateY(-1px) rotate(-1deg);
		opacity: 1;
	}
	100% {
		transform: scale(1) translateY(0) rotate(0deg);
		opacity: 1;
	}
}

/* Smooth movement für andere Cards */
.card-body > * {
	transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}
